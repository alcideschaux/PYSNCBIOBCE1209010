---
title: "Análisis de los docentes"
---

En esta subsección describimos las características personales y laborales de los docentes, y evaluamos la asociación de dichas características con la presencia de entrenamiento en bioética.

```{r}
library(reticulate)
use_condaenv("r-reticulate")
```

```{python}
# Librerías y configuraciones globales
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
import scipy
```

```{python}
# Datos
df = pd.read_excel('Docentes/Docentes_Datos.xlsx', engine='openpyxl')
df.head()
```

```{python}
# Ajustes de niveles de categorías
df = df.astype({'grado':'category','no_formal':'category','formal':'category'})
df['grado'].cat.reorder_categories(['Licenciatura','Grado Profesional','Especialización','Maestría'], ordered=True, inplace=True)
df['no_formal'].cat.reorder_categories(['No','Cursos cortos','Capacitación','Diplomado'], ordered=True, inplace=True)
df['formal'].cat.reorder_categories(['No','Especialización','Maestría'], ordered=True, inplace=True)
```

```{python}
# Información sobre el conjunto de datos
df.info()
```

```{python}
# Núm. docentes y de variables
df.shape
```


# Datos personales
## Edad
```{python}
df['edad'].describe().astype(int)
sns.histplot(x='edad', data=df)
plt.ylabel('Núm. docentes')
plt.xlabel('Edad, en años')
plt.ylim(0,25)
plt.show()
```

## Sexo
```{python}
df['sexo'].value_counts()
df['sexo'].value_counts(normalize=True).round(2)
sns.countplot(x='sexo', data=df)
plt.ylabel('Núm. docentes')
plt.xlabel('Sexo')
plt.show()
```


## Grado académico
```{python}
df['grado'].value_counts(sort=False)
df['grado'].value_counts(sort=False, normalize=True).round(2)
sns.countplot(x='grado', data=df)
plt.xlabel('Grado académico')
plt.ylabel('Núm. docentes')
plt.show()
```

## Facultad
```{python}
df['facultad'].value_counts()
df['facultad'].value_counts(normalize=True).round(2)
sns.countplot(x='facultad', data=df)
plt.xlabel('Unidad académica')
plt.ylabel('Núm. docentes')
plt.show()
```

## Carrera
```{python}
df['carrera'].value_counts()
df['carrera'].value_counts(normalize=True).round(2)
sns.countplot(y='carrera', data=df, order=df['carrera'].value_counts().index)
plt.ylabel('Carrera')
plt.xlabel('Núm. docentes')
plt.show()
```


## Experiencia docente
```{python}
df['experiencia'].describe().astype(int)
sns.histplot(x='experiencia', data=df)
plt.xlabel('Experiencia docente, en años')
plt.ylabel('Núm. docentes')
plt.show()
```


# Entrenamiento no formal
```{python}
entrenamiento = 'no_formal'
etiqueta = 'Entrenamiento no formal en bioética'
df[entrenamiento].value_counts(sort=False)
df[entrenamiento].value_counts(sort=False, normalize=True).round(2)
sns.countplot(x=entrenamiento, data=df, edgecolor='black')
plt.xlabel(etiqueta)
plt.ylabel('Núm. docentes')
plt.show()
```

## vs edad
```{python}
var = 'edad' # Definición de la variable de interés
df.groupby(entrenamiento)[var].describe().round().transpose() # Tendencia central y dispersión
scipy.stats.kruskal(*[data[var].values for name, data in df.groupby(entrenamiento)]) # Prueba de Kruskal-Wallis
sns.boxplot(x=entrenamiento, y=var, data =df) # Gráfico de cajas
plt.xlabel(etiqueta)
plt.ylabel('Edad, en años')
plt.show()
```

## vs sexo
```{python}
var = 'sexo' # Definición de la variable de contraste
pd.crosstab(df[var], df[entrenamiento]) # Frecuencia absoluta
pd.crosstab(df[var], df[entrenamiento], normalize='index').round(2) # Frecuencia relativa
scipy.stats.chi2_contingency(pd.crosstab(df[entrenamiento], df[var])) # Prueba del chi-cuadrado
sns.countplot(x=entrenamiento, hue=var, data=df, edgecolor='black') # Gráfico de barras
plt.xlabel(etiqueta)
plt.ylabel('Núm. docentes')
plt.legend(title='Sexo', loc='upper right')
plt.show()
```

## vs grado académico
```{python}
var = 'grado' # Definición de la variable de contraste
pd.crosstab(df[var], df[entrenamiento]) # Frecuencia absoluta
pd.crosstab(df[var], df[entrenamiento], normalize='index').round(2) # Frecuencia relativa
scipy.stats.chi2_contingency(pd.crosstab(df[entrenamiento], df[var])) # Prueba del chi-cuadrado
sns.countplot(x=entrenamiento, hue=var, data=df, edgecolor='black') # Gráfico de barras
plt.xlabel(etiqueta)
plt.ylabel('Núm. docentes')
plt.legend(title='Grado académico', loc='upper right')
plt.show()
```

## vs facultad
```{python}
var = 'facultad' # Definición de la variable de contraste
pd.crosstab(df[var], df[entrenamiento]) # Frecuencia absoluta
pd.crosstab(df[var], df[entrenamiento], normalize='index').round(2) # Frecuencia relativa
scipy.stats.chi2_contingency(pd.crosstab(df[entrenamiento], df[var])) # Prueba del chi-cuadrado
sns.countplot(x=entrenamiento, hue=var, data=df, edgecolor='black') # Gráfico de barras
plt.xlabel(etiqueta)
plt.ylabel('Núm. docentes')
plt.legend(title='Facultad', loc='upper right')
plt.show()
```

## vs carrera
```{python}
var = 'carrera' # Definición de la variable de contraste
pd.crosstab(df[var], df[entrenamiento]) # Frecuencia absoluta
pd.crosstab(df[var], df[entrenamiento], normalize='index').round(2) # Frecuencia relativa
scipy.stats.chi2_contingency(pd.crosstab(df[entrenamiento], df[var])) # Prueba del chi-cuadrado
sns.countplot(x=entrenamiento, hue=var, data=df, edgecolor='black') # Gráfico de barras
plt.xlabel(etiqueta)
plt.ylabel('Núm. docentes')
plt.legend(title='Carrera', loc='upper right')
plt.show()
```

## vs experiencia docente
```{python}
var = 'experiencia'
df.groupby(entrenamiento)[var].describe().round().transpose() # Tendencia central y dispersión
scipy.stats.kruskal(*[data[var].values for name, data in df.groupby(entrenamiento)]) # Prueba de Kruskal-Wallis
sns.boxplot(x=entrenamiento, y=var, data =df) # Gráfico de cajas
plt.xlabel(etiqueta)
plt.ylabel('Experiencia docente, en años')
plt.show()
```

# Entrenamiento formal
```{python}
entrenamiento = 'formal'
etiqueta = 'Entrenamiento formal en bioética'
df[entrenamiento].value_counts(sort=False)
df[entrenamiento].value_counts(sort=False, normalize=True).round(2)
sns.countplot(x=entrenamiento, data=df, edgecolor='black')
plt.xlabel(etiqueta)
plt.ylabel('Núm. docentes')
plt.show()
```

## vs edad
```{python}
var = 'edad' # Definición de la variable de interés
df.groupby(entrenamiento)[var].describe().round().transpose() # Tendencia central y dispersión
scipy.stats.kruskal(*[data[var].values for name, data in df.groupby(entrenamiento)]) # Prueba de Kruskal-Wallis
sns.boxplot(x=entrenamiento, y=var, data =df) # Gráfico de cajas
plt.xlabel(etiqueta)
plt.ylabel('Edad, en años')
plt.show()
```

## vs sexo
```{python}
var = 'sexo' # Definición de la variable de contraste
pd.crosstab(df[var], df[entrenamiento]) # Frecuencia absoluta
pd.crosstab(df[var], df[entrenamiento], normalize='index').round(2) # Frecuencia relativa
scipy.stats.chi2_contingency(pd.crosstab(df[entrenamiento], df[var])) # Prueba del chi-cuadrado
sns.countplot(x=entrenamiento, hue=var, data=df, edgecolor='black') # Gráfico de barras
plt.xlabel(etiqueta)
plt.ylabel('Núm. docentes')
plt.legend(title='Sexo', loc='upper right')
plt.show()
```

## vs grado académico
```{python}
var = 'grado' # Definición de la variable de contraste
pd.crosstab(df[var], df[entrenamiento]) # Frecuencia absoluta
pd.crosstab(df[var], df[entrenamiento], normalize='index').round(2) # Frecuencia relativa
scipy.stats.chi2_contingency(pd.crosstab(df[entrenamiento], df[var])) # Prueba del chi-cuadrado
sns.countplot(x=entrenamiento, hue=var, data=df, edgecolor='black') # Gráfico de barras
plt.xlabel(etiqueta)
plt.ylabel('Núm. docentes')
plt.legend(title='Grado académico', loc='upper right')
plt.show()
```

## vs facultad
```{python}
var = 'facultad' # Definición de la variable de contraste
pd.crosstab(df[var], df[entrenamiento]) # Frecuencia absoluta
pd.crosstab(df[var], df[entrenamiento], normalize='index').round(2) # Frecuencia relativa
scipy.stats.chi2_contingency(pd.crosstab(df[entrenamiento], df[var])) # Prueba del chi-cuadrado
sns.countplot(x=entrenamiento, hue=var, data=df, edgecolor='black') # Gráfico de barras
plt.xlabel(etiqueta)
plt.ylabel('Núm. docentes')
plt.legend(title='Facultad', loc='upper right')
plt.show()
```

## vs carrera
```{python}
var = 'carrera' # Definición de la variable de contraste
pd.crosstab(df[var], df[entrenamiento]) # Frecuencia absoluta
pd.crosstab(df[var], df[entrenamiento], normalize='index').round(2) # Frecuencia relativa
scipy.stats.chi2_contingency(pd.crosstab(df[entrenamiento], df[var])) # Prueba del chi-cuadrado
sns.countplot(x=entrenamiento, hue=var, data=df, edgecolor='black') # Gráfico de barras
plt.xlabel(etiqueta)
plt.ylabel('Núm. docentes')
plt.legend(title='Carrera', loc='upper right')
plt.show()
```

## vs experiencia docente
```{python}
var = 'experiencia'
df.groupby(entrenamiento)[var].describe().round().transpose() # Tendencia central y dispersión
scipy.stats.kruskal(*[data[var].values for name, data in df.groupby(entrenamiento)]) # Prueba de Kruskal-Wallis
sns.boxplot(x=entrenamiento, y=var, data =df) # Gráfico de cajas
plt.xlabel(etiqueta)
plt.ylabel('Experiencia docente, en años')
plt.show()
```

# Entrenamiento formal + no formal
```{python}
entrenamiento = 'entrenamiento'
etiqueta = 'Entrenamiento (formal y no formal) en bioética'
df[entrenamiento].value_counts(sort=False)
df[entrenamiento].value_counts(sort=False, normalize=True).round(2)
sns.countplot(x=entrenamiento, data=df, edgecolor='black')
plt.xlabel(etiqueta)
plt.ylabel('Núm. docentes')
plt.show()
```

## vs edad
```{python}
var = 'edad' # Definición de la variable de interés
df.groupby(entrenamiento)[var].describe().round().transpose() # Tendencia central y dispersión
scipy.stats.kruskal(*[data[var].values for name, data in df.groupby(entrenamiento)]) # Prueba de Kruskal-Wallis
sns.boxplot(x=entrenamiento, y=var, data =df, order=['No','Sí']) # Gráfico de cajas
plt.xlabel(etiqueta)
plt.ylabel('Edad, en años')
plt.show()
```

## vs sexo
```{python}
var = 'sexo' # Definición de la variable de contraste
pd.crosstab(df[var], df[entrenamiento]) # Frecuencia absoluta
pd.crosstab(df[var], df[entrenamiento], normalize='index').round(2) # Frecuencia relativa
scipy.stats.chi2_contingency(pd.crosstab(df[entrenamiento], df[var])) # Prueba del chi-cuadrado
sns.countplot(x=entrenamiento, hue=var, data=df, edgecolor='black') # Gráfico de barras
plt.xlabel(etiqueta)
plt.ylabel('Núm. docentes')
plt.legend(title='Sexo', loc='upper right')
plt.show()
```

## vs grado académico
```{python}
var = 'grado' # Definición de la variable de contraste
pd.crosstab(df[var], df[entrenamiento]) # Frecuencia absoluta
pd.crosstab(df[var], df[entrenamiento], normalize='index').round(2) # Frecuencia relativa
scipy.stats.chi2_contingency(pd.crosstab(df[entrenamiento], df[var])) # Prueba del chi-cuadrado
sns.countplot(x=entrenamiento, hue=var, data=df, edgecolor='black', order=['No','Sí']) # Gráfico de barras
plt.xlabel(etiqueta)
plt.ylabel('Núm. docentes')
plt.legend(title='Grado académico', loc='upper right')
plt.show()
```

## vs facultad
```{python}
var = 'facultad' # Definición de la variable de contraste
pd.crosstab(df[var], df[entrenamiento]) # Frecuencia absoluta
pd.crosstab(df[var], df[entrenamiento], normalize='index').round(2) # Frecuencia relativa
scipy.stats.chi2_contingency(pd.crosstab(df[entrenamiento], df[var])) # Prueba del chi-cuadrado
sns.countplot(x=entrenamiento, hue=var, data=df, edgecolor='black', order=['No','Sí']) # Gráfico de barras
plt.xlabel(etiqueta)
plt.ylabel('Núm. docentes')
plt.legend(title='Facultad', loc='upper right')
plt.show()
```

## vs carrera
```{python}
var = 'carrera' # Definición de la variable de contraste
pd.crosstab(df[var], df[entrenamiento]) # Frecuencia absoluta
pd.crosstab(df[var], df[entrenamiento], normalize='index').round(2) # Frecuencia relativa
scipy.stats.chi2_contingency(pd.crosstab(df[entrenamiento], df[var])) # Prueba del chi-cuadrado
sns.countplot(x=entrenamiento, hue=var, data=df, edgecolor='black', order=['No','Sí']) # Gráfico de barras
plt.xlabel(etiqueta)
plt.ylabel('Núm. docentes')
plt.legend(title='Carrera', loc='upper right')
plt.show()
```

## vs experiencia docente
```{python}
var = 'experiencia'
df.groupby(entrenamiento)[var].describe().round().transpose() # Tendencia central y dispersión
scipy.stats.kruskal(*[data[var].values for name, data in df.groupby(entrenamiento)]) # Prueba de Kruskal-Wallis
sns.boxplot(x=entrenamiento, y=var, data =df, order=['No','Sí']) # Gráfico de cajas
plt.xlabel(etiqueta)
plt.ylabel('Experiencia docente, en años')
plt.show()
```
